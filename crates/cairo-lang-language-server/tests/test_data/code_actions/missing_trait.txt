//! > Test simple missing trait quick fix.

//! > test_runner_name
test_quick_fix

//! > cairo_project.toml
[crate_roots]
hello = "src"

[config.global]
edition = "2023_11"

//! > cairo_code
trait ATrait<T> {
    fn some_method(self: @T);
}
impl Felt252ATraitImpl of ATrait<felt252> {
    fn some_method(self: @felt252) {}
}

mod inner_mod {
    fn main() {
        let x = 5_felt252;
        x.some_me<caret>thod(<caret>);
    }
}

//! > Code action #0
        x.some_me<caret>thod();
Title: Import hello::ATrait
Add new text: "use hello::ATrait;
"
At: Range { start: Position { line: 8, character: 4 }, end: Position { line: 8, character: 4 } }

//! > Code action #1
        x.some_method(<caret>);
No code actions.

//! > ==========================================================================

//! > Test missing trait quick fix with no suitable impl.

//! > test_runner_name
test_quick_fix

//! > cairo_project.toml
[crate_roots]
hello = "src"

[config.global]
edition = "2023_11"

//! > cairo_code
trait ATrait<T> {
    fn some_method(self: @T);
}

mod inner_mod {
    fn main() {
        let x = 5_felt252;
        x.some_me<caret>thod(<caret>);
    }
}

//! > Code action #0
        x.some_me<caret>thod();
No code actions.

//! > Code action #1
        x.some_method(<caret>);
No code actions.

//! > ==========================================================================

//! > Test missing trait quick fix with two options.

//! > test_runner_name
test_quick_fix

//! > cairo_project.toml
[crate_roots]
hello = "src"

[config.global]
edition = "2023_11"

//! > cairo_code
trait ATrait1<T> {
    fn some_method(self: @T);
}
impl Felt252ATraitImpl of ATrait1<felt252> {
    fn some_method(self: @felt252) {}
}
trait ATrait2<T> {
    fn some_method(self: @T);
}
impl Felt252ATraitImpl of ATrait2<felt252> {
    fn some_method(self: @felt252) {}
}

mod inner_mod {
    fn main() {
        let x = 5_felt252;
        x.some_me<caret>thod(<caret>);
    }
}

//! > Code action #0
        x.some_me<caret>thod();
Title: Import hello::ATrait1
Add new text: "use hello::ATrait1;
"
At: Range { start: Position { line: 14, character: 4 }, end: Position { line: 14, character: 4 } }
Title: Import hello::ATrait2
Add new text: "use hello::ATrait2;
"
At: Range { start: Position { line: 14, character: 4 }, end: Position { line: 14, character: 4 } }

//! > Code action #1
        x.some_method(<caret>);
No code actions.
