//! > Test panic.

//! > test_runner_name
test_function_lowering

//! > function
fn foo(ref x: felt252, a: bool) -> felt252 {
  x = 7;
  let mut data = array![];
  data.append(1);
  let _y = panic(data);
  5
}

//! > function_name
foo

//! > module_code

//! > semantic_diagnostics

//! > lowering_diagnostics

//! > lowering_flat
Parameters: v0: core::felt252, v1: core::bool
blk0 (root):
Statements:
  (v9: core::array::Array::<core::felt252>) <- core::array::array_new::<core::felt252>()
  (v4: core::felt252) <- 1u
  (v10: core::array::Array::<core::felt252>) <- core::array::array_append::<core::felt252>(v9, v4)
  (v7: core::panics::Panic) <- struct_construct()
  (v8: (core::panics::Panic, core::array::Array::<core::felt252>)) <- struct_construct(v7, v10)
  (v12: core::panics::PanicResult::<(core::felt252, core::felt252)>) <- PanicResult::Err(v8)
End:
  Return(v12)

//! > ==========================================================================

//! > Test call panicable.

//! > test_runner_name
test_function_lowering

//! > function
fn foo(ref x: felt252, ref a: bool) -> felt252 {
  if true { x = 7; } else { x = 6; };
  bar(ref a)
}

//! > function_name
foo

//! > module_code
fn bar(ref a: bool) -> felt252 {
  let mut data = array![];
  data.append(1);
  let _y = panic(data);
  5
}

//! > semantic_diagnostics

//! > lowering_diagnostics

//! > lowering_flat
Parameters: v0: core::felt252, v1: core::bool
blk0 (root):
Statements:
  (v17: core::array::Array::<core::felt252>) <- core::array::array_new::<core::felt252>()
  (v12: core::felt252) <- 1u
  (v18: core::array::Array::<core::felt252>) <- core::array::array_append::<core::felt252>(v17, v12)
  (v15: core::panics::Panic) <- struct_construct()
  (v16: (core::panics::Panic, core::array::Array::<core::felt252>)) <- struct_construct(v15, v18)
  (v22: core::panics::PanicResult::<(core::felt252, core::bool, core::felt252)>) <- PanicResult::Err(v16)
End:
  Return(v22)
