//! > No cycles.

//! > test_function_name
contains_cycles_test

//! > module_code
fn non_cyclic() -> felt {
    non_cyclic2()
}

fn non_cyclic2() -> felt {
    0
}

//! > result
non_cyclic: ap_change=Ok(Known { new_vars_only: false }), has_cycles=Ok(false)
non_cyclic2: ap_change=Ok(Known { new_vars_only: false }), has_cycles=Ok(false)

//! > ==========================================================================

//! > Simple cycle.

//! > test_function_name
contains_cycles_test

//! > module_code
fn simple_cycle(x: felt) -> felt {
    if x == 0 {
        {
            return simple_cycle(x);
        }
    }
    0
}

fn calls_simple_cycle(x: felt) -> felt {
    simple_cycle(x)
}

//! > result
simple_cycle: ap_change=Ok(Unknown), has_cycles=Ok(true)
calls_simple_cycle: ap_change=Ok(Unknown), has_cycles=Ok(true)

//! > ==========================================================================

//! > Longer cycle.

//! > test_function_name
contains_cycles_test

//! > module_code
// a calls b, which then calls a.
fn cycle_of_len2_a(x: felt) -> felt {
    cycle_of_len2_b(x)
}

fn cycle_of_len2_b(x: felt) -> felt {
    cycle_of_len2_a(x)
}

fn call_cycle_of_len2(x: felt) -> felt {
    cycle_of_len2_a(x)
}

//! > result
cycle_of_len2_a: ap_change=Ok(Unknown), has_cycles=Ok(true)
cycle_of_len2_b: ap_change=Ok(Unknown), has_cycles=Ok(true)
call_cycle_of_len2: ap_change=Ok(Unknown), has_cycles=Ok(true)
