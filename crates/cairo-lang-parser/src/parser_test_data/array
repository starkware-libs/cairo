//! > Test index operator simple

//! > test_runner_name
test_partial_parser_tree

//! > cairo_code
fn test() {
    a[1];
}

//! > top_level_kind
ExprIndexed

//! > ignored_kinds
ExprPath

//! > expected_diagnostics

//! > expected_tree
└── Top level kind: ExprIndexed
    ├── expr (kind: ExprPath) <ignored>
    ├── lbrack (kind: TokenLBrack): '['
    ├── index_expr (kind: TokenLiteralNumber): '1'
    └── rbrack (kind: TokenRBrack): ']'

//! > ==========================================================================

//! > Test index operator complex

//! > test_runner_name
test_partial_parser_tree

//! > cairo_code
fn test() {
    a[x + y];
}

//! > top_level_kind
ExprIndexed

//! > ignored_kinds
ExprPath
ExprBinary

//! > expected_diagnostics

//! > expected_tree
└── Top level kind: ExprIndexed
    ├── expr (kind: ExprPath) <ignored>
    ├── lbrack (kind: TokenLBrack): '['
    ├── index_expr (kind: ExprBinary) <ignored>
    └── rbrack (kind: TokenRBrack): ']'

//! > ==========================================================================

//! > Test index operator block

//! > test_runner_name
test_partial_parser_tree

//! > cairo_code
fn test() {
    a[{x + y}];
}

//! > top_level_kind
ExprIndexed

//! > ignored_kinds
ExprPath
ExprBinary

//! > expected_diagnostics

//! > expected_tree
└── Top level kind: ExprIndexed
    ├── expr (kind: ExprPath) <ignored>
    ├── lbrack (kind: TokenLBrack): '['
    ├── index_expr (kind: ExprBlock)
    │   ├── lbrace (kind: TokenLBrace): '{'
    │   ├── statements (kind: StatementList)
    │   │   └── child #0 (kind: StatementExpr)
    │   │       ├── expr (kind: ExprBinary) <ignored>
    │   │       └── semicolon (kind: OptionTerminalSemicolonEmpty) []
    │   └── rbrace (kind: TokenRBrace): '}'
    └── rbrack (kind: TokenRBrack): ']'

//! > ==========================================================================

//! > Test index operator of index

//! > test_runner_name
test_partial_parser_tree

//! > cairo_code
fn test() {
    a[a[1]];
}

//! > top_level_kind
ExprIndexed

//! > ignored_kinds
ExprPath

//! > expected_diagnostics

//! > expected_tree
└── Top level kind: ExprIndexed
    ├── expr (kind: ExprPath) <ignored>
    ├── lbrack (kind: TokenLBrack): '['
    ├── index_expr (kind: ExprIndexed)
    │   ├── expr (kind: ExprPath) <ignored>
    │   ├── lbrack (kind: TokenLBrack): '['
    │   ├── index_expr (kind: TokenLiteralNumber): '1'
    │   └── rbrack (kind: TokenRBrack): ']'
    └── rbrack (kind: TokenRBrack): ']'
