//! > Implicit parameter found

//! > test_function_name
test_function_diagnostics

//! > function
func foo() {
    let x = 7;
    bar()
}

//! > function_name
foo

//! > module_code
func bar() implicits(a: felt) {
}

//! > expected_diagnostics

//! > ==========================================================================

//! > Implicit parameter type exists more than once

//! > test_function_name
test_function_diagnostics

//! > function
func foo() {
    let x = 7;
    let y = 8;
    bar()
}

//! > function_name
foo

//! > module_code
func bar() implicits(a: felt) {
}

//! > expected_diagnostics
error: Multiple variable of type "core::felt" exist. Exactly a single variable of this type must exist for it to be used as an implicit argument of the function call.
 --> lib.cairo:6:5
    bar()
    ^***^

//! > ==========================================================================

//! > Implicit parameter type does not exist

//! > test_function_name
test_function_diagnostics

//! > function
func foo() {
    bar()
}

//! > function_name
foo

//! > module_code
func bar() implicits(a: felt) {
}

//! > expected_diagnostics
error: Variable of type "core::felt" doesn't exist. It is required for the function call as an implicit argument.
 --> lib.cairo:4:5
    bar()
    ^***^

//! > ==========================================================================

//! > Valid function call with unnamed parameters (both normal and implicit)

//! > test_function_name
test_function_diagnostics

//! > function
func foo() {
    let x = 7;
    let b: bool = bool::True(());
    let unit: (felt, felt) = (3, 5);
    bar(x, 5, b)
}

//! > function_name
foo

//! > module_code
func bar(_: felt, a: felt, _: bool) implicits(_: felt, b: bool, _: (felt, felt)) {
}

//! > expected_diagnostics

//! > ==========================================================================

//! > Lookup implicit arguments for a function call also among unnamed implicit params of the current function.

//! > test_function_name
test_function_diagnostics

//! > function
func foo() {
    let x = 7;
    bar()
}

//! > function_name
foo

//! > module_code
func bar() implicits(_: felt) {
    baz()
}
func baz() implicits(_: felt) {
}

//! > expected_diagnostics
