== Packed structs

Packed structs are struct types whose fields are laid out sequentially in memory
without padding between them.

They are primarily used to achieve a compact memory representation and to ensure
a predictable layout, which is important when working with low-level data formats
or interoperating with external systems.

== Motivation

Packed structs help:

* Reduce memory usage by avoiding unused padding between fields.
* Provide a deterministic memory layout.
* Enable efficient serialization and deserialization.
* Improve interoperability with data formats that require exact layouts.

== Defining packed structs

A packed struct is defined using the `packed` keyword.

[source,cairo]
----
packed struct Point {
    x: felt252,
    y: felt252,
}
----

In this example, the fields `x` and `y` are stored contiguously in memory without
any additional padding.

== Field layout

Fields in a packed struct are laid out in the order in which they are declared.
Each field immediately follows the previous one.

The total size of a packed struct is equal to the sum of the sizes of its fields.

== Accessing fields

Fields of a packed struct are accessed in the same way as fields of a regular
struct.

[source,cairo]
----
let p = Point { x: 1, y: 2 };
let x_value = p.x;
----

== Restrictions

Packed structs impose the following restrictions:

* All fields must have a statically known size.
* Field layout cannot be altered by the compiler.
* Packed structs may have stricter alignment requirements.

If these restrictions are violated, compilation fails.

NOTE: Packed structs should be used only when a precise memory layout is required.
For general-purpose data structures, regular structs are usually preferred.

